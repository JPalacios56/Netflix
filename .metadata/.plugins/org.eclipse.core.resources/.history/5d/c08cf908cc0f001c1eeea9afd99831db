package com.everis.d4i.tutorial.services.impl;


import static org.junit.jupiter.api.Assertions.assertEquals;

import org.junit.jupiter.api.Test;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.Mockito;

import com.everis.d4i.tutorial.entities.TvShow;
import com.everis.d4i.tutorial.exceptions.NetflixException;
import com.everis.d4i.tutorial.json.TvShowRest;
import com.everis.d4i.tutorial.repositories.CategoryRepository;
import com.everis.d4i.tutorial.repositories.TvShowRepository;
import com.everis.d4i.tutorial.services.TvShowService;

class TvShowServiceImplTest {


	@Mock
	TvShowRepository tvShowRepository;
	
	@Mock
	CategoryRepository categoryRepository;
	
	@InjectMocks
	TvShowService tvShowService;
	

	

	@Test
	void getTvShowById() throws NetflixException {
		
		TvShow tvShow = new TvShow();
		tvShow.setName("Serie1");
		tvShow.setLongDescription("Descripcion2");
		tvShow.setShortDescription("Descripcion1");
		
	
		Mockito.when(tvShowRepository.getById(1L)).thenReturn(tvShow);
	
		TvShowRest tvShowExpect = tvShowService.getTvShowById(1L);
		
		assertEquals(tvShowExpect.getName(),"Serie1" );
	}
}
